(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(11),o=c.n(r),s=(c(37),c(4)),i=c(5),u=(c(38),c(39),c(1));function l(e){var t=e.onSubmit,c=Object(a.useState)(""),n=Object(s.a)(c,2),r=n[0],o=n[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===r.trim())return i.b.error("Please enter the search query!");t(r),o("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.target.value)}})]})})}var b=c(16),j=(c(41),c(13)),m=c.n(j),h=c(30),f=c(31),p=c.n(f);function d(){return(d=Object(h.a)(m.a.mark((function e(t,c){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pixabay.com/api/?","23203162-5bd4fce9443c3feba1bdcfdd5",a="".concat("https://pixabay.com/api/?","q=").concat(t,"&page=").concat(c,"&key=").concat("23203162-5bd4fce9443c3feba1bdcfdd5","&image_type=photo&orientation=horizontal&per_page=12"),e.prev=3,e.next=6,p.a.get(a);case 6:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 10:e.prev=10,e.t0=e.catch(3),console.log("Okay, Houston, we've got a problem with PixabayApi func: ",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}c(61);var O="idle",g="pending",v="resolved",x="rejected";function y(e){var t=e.query,c=Object(a.useState)(O),n=Object(s.a)(c,2),r=n[0],o=n[1],i=Object(a.useState)(1),l=Object(s.a)(i,2),j=l[0],m=l[1],h=Object(a.useState)([]),f=Object(s.a)(h,2),p=f[0],y=f[1],w=Object(a.useState)(!1),k=Object(s.a)(w,2),I=(k[0],k[1],Object(a.useState)("")),C=Object(s.a)(I,2),B=(C[0],C[1],Object(a.useState)("")),L=Object(s.a)(B,2),U=(L[0],L[1],function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e}),[e]),t.current}(t));Object(a.useEffect)((function(){if(console.log("\u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0441\u044f"),console.log(j),t){U!==t&&(console.log("\u0437\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f"),y([]),m(1));try{o(g),function(e,t){return d.apply(this,arguments)}(t,j).then((function(e){console.log(e.hits),y((function(t){return[].concat(Object(b.a)(t),Object(b.a)(null===e||void 0===e?void 0:e.hits))})),o(v)}))}catch(e){console.log("Okay, Houston, we've got a problem with UseEffect: ",e.message),o(x)}}}),[t,j]);switch(r){case"idle":case"rejected":return null;case"pending":return Object(u.jsx)(N,{});case"resolved":return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"ImageGallery",children:p.map((function(e){var t=e.id,c=(e.largeImageURL,e.webformatURL),a=e.tags;return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)(S,{smallImageUrl:c,imgDescription:a})},t)}))}),0!==p.length&&Object(u.jsx)("div",{className:"LoadMoreButtonWrap",children:Object(u.jsx)(F,{onClick:function(){console.log("click"),m((function(e){return e+1}))}})})]});default:return}}c(84);function S(e){var t=e.smallImageUrl,c=e.imgDescription;return Object(u.jsx)("img",{src:t,alt:c,className:"ImageGalleryItem-image"})}var w=c(32),k=c.n(w);c(105),c(106);function N(){return Object(u.jsx)("div",{className:"LoaderWrap",children:Object(u.jsx)(k.a,{type:"Bars",color:"#00BFFF",height:175,width:175})})}c(107);function F(e){var t=e.onClick;return Object(u.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load More"})}var I=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{onSubmit:function(e){n(e)}}),Object(u.jsx)(i.a,{autoClose:2e3,position:"top-right"}),Object(u.jsx)(y,{query:c})]})};o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root"))},37:function(e,t,c){},39:function(e,t,c){},41:function(e,t,c){},84:function(e,t,c){}},[[108,1,2]]]);
//# sourceMappingURL=main.e35879a0.chunk.js.map